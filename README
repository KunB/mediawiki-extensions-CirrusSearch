MediaWiki extension: SolrSearch
-------------------------------


Installation
------------
Fetch both this plugin and the Solarium plugin into your extensions directory.
Make sure you have the curl php library installed (sudo apt-get install php5-curl in Debian.)
Add this to your LocalSettings.php:
require_once( "$IP/extensions/Solarium/Solarium.php");
require_once( "$IP/extensions/SolrSearch/SolrSearch.php" );

Then bootstrap the search index by running:
php maintenance/forceSolrIndex.php

Finally, add this to your LocalSettings.php:
$wgSearchType = 'SolrSearch';


Handling Solr Outages
---------------------
If for some reason in process updates to Solr begin failing you can immediately
set "$wgSolrSearchUpdateInProcess = false;" in your LocalSettings.php file to
stop trying to update solr.  Once you figure out what is wrong with Solr you
should turn those updates back on and then run the following:
php maintenance/forceSolrIndex.php --from <whenever the outage started in ISO 8601 format> --deletes
php maintenance/forceSolrIndex.php --from <whenever the outage started in ISO 8601 format>

The first command picks up all the deletes that occurred during the outage and
should complete quite quickly.  The second command picks up all the updates
that occurred during the outage and might take significantly longer.
